# ゲーム実装ルール

## 敵・ギミック実装の注意点

### 1. 敵の初期化時の方向設定
- **鳥**: 左向き（右から左）
  ```javascript
  velX: -ENEMY_CONFIG[e.type].speed,
  direction: -1
  ```
- **スライム**: 右向き（左から右）
  ```javascript
  velX: ENEMY_CONFIG[e.type].speed,
  direction: 1
  ```
- **重要**: `initLevel()`と`resetLevel()`両方で統一

### 2. 敵のリセット時の個体識別
- ❌ `find(e => e.type === enemy.type)` - 同じタイプの最初の敵を返す
- ✅ `originalX`, `originalY`プロパティで個体を特定
- **理由**: 同じタイプの敵が複数いる場合の混同防止

### 3. 鳥の境界処理
- ❌ 画面端で方向転換（ワープ処理と競合）
- ✅ ワープ処理のみ（`checkBoundaries()`で実装）
- **理由**: 複数の境界処理ロジックが競合すると予期しない動作

### 4. プラットフォーム配置の原則
- **最小ギャップ**: プレイヤー高さ（60px）以上の隙間を確保
- **視覚的重なり回避**: Y座標差は60px以上推奨
- **ゲームクリア必須要素**: プラットフォーム、ゴールフラグ
- **オプション要素**: 敵、コイン、スプリング（0個でもゲーム成立）

## ゲーム設計の基本方針

### レベル構造
- **セクション1**: チュートリアルエリア（0-800px）
- **セクション2**: ジャンプチャレンジ（800-1600px）  
- **セクション3**: 垂直チャレンジ（1600-2400px）
- **セクション4**: 最終チャレンジ（2400-3000px）

### 難易度バランス
- **リスク・リワード**: 危険な場所ほど高価値なコイン配置
- **複数ルート**: 安全な地上ルートと危険な空中ルート
- **段階的学習**: 基本操作 → 応用技術 → 高難度チャレンジ