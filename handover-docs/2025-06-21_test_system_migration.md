# 2025年6月21日 - テストシステムの移行

## 概要
古いテストシステム（`tests/test.html`）を削除し、統一テストランナーに完全移行しました。

## 削除したファイル
- `tests/test.html` - ブラウザベースの古いテストシステム
- `tests/test.js` - 古いテストフレームワーク
- `tests/test-jump.js` - ジャンプ機能の単体テスト
- `tests/test-levelplay-simple.js` - レベル検証テスト（SimpleLevelTest）

## 統一テストランナーへの移行

### レベル検証テストの統合
SimpleLevelTestの機能を統一テストランナーに統合：

1. **新しいレベル検証テスト** (`scripts/level-validation-test.js`)
   - レベルデータの静的解析
   - プラットフォーム間隙のチェック
   - レベル長の妥当性確認
   - 敵の密度チェック
   - 必須要素の存在確認

2. **統一テストランナーへの追加**
   - 6番目のテストカテゴリとして追加
   - `[6/6] レベル検証テスト`として実行
   - コマンドライン引数 `--category level` で個別実行可能

### 移行のメリット
1. **一元管理**: すべてのテストが一つのコマンドで実行可能
2. **CI/CD対応**: Node.js環境で完結し、ブラウザ不要
3. **統一された出力形式**: すべてのテストが同じ形式で結果を表示
4. **メンテナンス性向上**: テストコードの重複を削減

### 未移行のテスト
以下のテストは統一テストランナーに含まれていません：
- ジャンプ機能の詳細テスト（test-jump.js）
- ブラウザ固有のテスト（Canvas描画など）

これらは自動ゲームテストでカバーされているため、個別移行は不要と判断しました。

## 使用方法

### すべてのテストを実行
```bash
node scripts/unified-test-runner.js
```

### レベル検証テストのみ実行
```bash
node scripts/unified-test-runner.js --category level
```

### 利用可能なカテゴリ
- structure: 構造テスト
- unit: ユニットテスト
- integration: 統合テスト
- automated: 自動ゲームテスト
- level: レベル検証テスト（新規追加）

## 注意事項
- ブラウザ固有のテストが必要な場合は、別途検討が必要
- レベル検証テストは`stage1.json`のみを対象としている
- 複数ステージをテストする場合は、今後の拡張が必要