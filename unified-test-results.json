{
  "timestamp": "2025-06-21T03:06:33.151Z",
  "environment": {
    "node": "v22.16.0",
    "platform": "linux",
    "cwd": "/mnt/d/claude/testAction"
  },
  "tests": {
    "structure": {
      "passed": 9,
      "failed": 0,
      "tests": [
        {
          "name": "ファイル存在確認: index.html",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "ファイル存在確認: src/game.js",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "ファイル存在確認: src/config.js",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "ファイル存在確認: src/player.js",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "ファイル存在確認: src/music.js",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "ファイル存在確認: levels/stage1.json",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "ファイル存在確認: assets/player-idle.svg",
          "passed": true,
          "message": "✅ 存在"
        },
        {
          "name": "JSON妥当性: levels/stage1.json",
          "passed": true,
          "message": "✅ 有効なJSON"
        },
        {
          "name": "JSON妥当性: levels/stages.json",
          "passed": true,
          "message": "✅ 有効なJSON"
        }
      ]
    },
    "unit": {
      "passed": 0,
      "failed": 1,
      "output": "🧪 cURLベーステスト検証開始...\n🔍 テストページ構造検証開始...\n\n📋 手動テスト手順:\n=====================================\n✅ 基本構造は正常です。\n\n📖 ブラウザテスト手順:\n1. ブラウザで http://localhost:8080/tests/test.html を開く\n2. ページが読み込まれるまで待機（5-10秒）\n3. 以下を確認:\n   - 「window.gameが存在しません」エラーが表示されないか\n   - テスト結果セクションに成功/失敗の数が表示されるか\n   - ブラウザの開発者ツール（F12）でJavaScriptエラーがないか\n4. 結果を以下の形式で記録:\n   - 成功したテスト数: X件\n   - 失敗したテスト数: Y件\n   - 主なエラーメッセージ: (あれば)\n\n💡 トラブルシューティング:\n- キャッシュ問題: Ctrl+F5 (強制リロード)\n- CORS問題: HTTPサーバーが正常に動作しているか確認\n- JavaScript無効: ブラウザのJavaScriptが有効か確認\n\n💾 検証結果を .test-results.json に保存\n=====================================\n",
      "error": "❌ 検証エラー: HTTP 404\n",
      "exitCode": 1,
      "success": false
    },
    "integration": {
      "passed": 0,
      "failed": 0,
      "output": "🔍 包括的テスト実行開始...\n\n1️⃣ インフラストラクチャ検証\n=====================================\n\n2️⃣ HTTP構成確認\n=====================================\n\n3️⃣ JavaScript実行確認\n=====================================\n\n📊 総合判定\n=====================================\nインフラストラクチャ: ✅\nHTTP構成: ✅\nJavaScript基本: ✅\nJavaScript高度: ✅\nブラウザテスト準備: ✅\n\n🔍 問題分析\n=====================================\n✅ 基本的な前提条件は全て満たされています\n\n🎯 次のアクション:\n1. http://localhost:8080/tests/test.html をブラウザで開く\n2. テスト結果を確認（20件中何件成功するか）\n3. 失敗したテストがあれば具体的なエラーメッセージを確認\n\n⚠️ 注意: VM環境ではGameクラスの実行に制限があるため、\n実際のブラウザでの動作確認が必要です。\n\n💾 テスト結果を .test-results.json に保存しました\n",
      "error": "",
      "exitCode": 0,
      "success": true
    },
    "automated": {
      "passed": 12,
      "failed": 0,
      "output": "🚀 自動ゲームテストを開始します...\n\n🧪 自動ゲームテスト開始...\n\n\n📂 ゲーム状態管理\n────────────────────────────────────────\n✅ 状態キャプチャの正確性\n✅ 状態履歴の記録\n✅ 状態検証機能\n\n📂 プレイヤー動作\n────────────────────────────────────────\n✅ 右移動の検証\n✅ ジャンプ動作の検証\n✅ 複合動作の検証\n\n📂 ゲームメカニクス\n────────────────────────────────────────\n✅ コイン収集メカニクス\n✅ ライフシステム\n\n📂 物理エンジン\n────────────────────────────────────────\n✅ 重力の適用\n✅ 速度制限の確認\n\n📂 衝突検出\n────────────────────────────────────────\n✅ プラットフォーム衝突\n✅ 境界チェック\n\n📊 テスト結果サマリー\n────────────────────────────────────────\n総テスト数: 12\n成功: 12\n失敗: 0\n成功率: 100.0%\n実行時間: 4341ms\n\n💾 テスト結果を保存しました: /mnt/d/claude/testAction/automated-test-results.json\n\n📊 テスト結果サマリー\n────────────────────────────────────────\n総テスト数: 12\n成功: 12\n失敗: 0\n成功率: 100.0%\n実行時間: 4341ms\n",
      "error": "",
      "exitCode": 0,
      "success": true
    },
    "level": {
      "passed": 0,
      "failed": 1,
      "tests": [
        {
          "name": "ゴールフラグが設定されていません",
          "passed": false,
          "message": "[critical] missing_goal"
        }
      ]
    },
    "performance": null,
    "http": {
      "passed": 1,
      "failed": 0,
      "serverRunning": true
    }
  },
  "summary": {
    "total": 24,
    "passed": 22,
    "failed": 2,
    "skipped": 0,
    "duration": 27704,
    "successRate": "91.7"
  }
}